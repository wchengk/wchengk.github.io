<!DOCTYPE html>
<html lang="zh-CN" onclick="Entry()">
<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-app-status-bar-style" content="white">
    <link rel="apple-touch-icon" href="/res/search/clock.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>电子时钟/铃声</title>
    <link rel="stylesheet" type="text/css" href="/all.css">
    <link rel="stylesheet" type="text/css" href="/text.css">
    <link rel="stylesheet" type="text/css" href="/form.css">
    <link rel="stylesheet" type="text/css" href="/div.css">
    <link rel="shortcut icon" href="/res/search/clock.png">
    <script src="/common.js"></script>
</head>
<body>
    <div style="width: 640px; height: 200px;" class="allmid">
        <p id="tm" class="ft80 txtmid">
            点击页面打开时钟
        </p>
    </div>
    <script>
        var times;
        var hours;
        var minutes;
        function twodig(x){
            return Math.floor(x / 10) + "" + x % 10;
        }
        function dispTime(){
            var dt = new Date();
            getObj("tm").innerHTML = twodig(dt.getHours()) + ':' + twodig(dt.getMinutes()) + ':' + twodig(dt.getSeconds());
            if (dt.getSeconds() == 0)
                for (var i = 0;i < times.length;i ++)
                    if (dt.getHours() == hours[i] && dt.getMinutes() == minutes[i]){
                        setTimeout("Play('/res/bell.wav')",0);
                        break;
                    }
            setTimeout("dispTime()",1000);
        }
        function Entry(){
            times = getParam("tm").split(';');
            hours = new Array(times.length);
            minutes = new Array(times.length);
            for (var i = 0;i < times.length;i ++){
                var spl = times[i].split(':');
                hours[i] = spl[0];
                minutes[i] = spl[1];
            }
            dispTime();
        }
    </script>
</body>
</html>